"use client";

import React from "react";
import { useRouter, usePathname } from "next/navigation";
import { useDispatch } from "react-redux";
import { setTab, TabKey } from "../../shared/redux/tabSlice";

function HomeIcon({ active }: { active?: boolean }) {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="37" height="37" fill="none">
      <path
        fill={active ? "#00CF00" : "#A7A7A7"}
        d="M33.941 11.483 21.997 1.42c-2.257-1.893-5.437-1.893-7.694 0L2.36 11.483C.865 12.735 0 14.658 0 16.686v13.626c0 3.653 2.77 6.62 6.2 6.62h23.887c3.429 0 6.199-2.967 6.199-6.62V16.686c0-2.027-.865-3.936-2.36-5.203h.015Zm-15.798 20.32C3.883 25.78 4.865 15.18 10.156 12.571c5.437-2.668 7.987 1.82 7.987 1.82s2.564-4.488 7.987-1.82c5.29 2.61 6.272 13.209-7.987 19.232Z"
      />
    </svg>
  );
}
function MessageIcon({ active }: { active?: boolean }) {
  return (
    <svg
      width="41"
      height="35"
      viewBox="0 0 41 35"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M21.1236 0.0149082C10.5427 0.0149082 1.94017 6.90252 1.94017 15.3555C1.94017 18.4862 3.14188 21.5573 5.35479 24.1067L0.298812 31.4713C-0.111528 32.0528 -0.0968721 32.8429 0.328123 33.4094C0.635878 33.8417 1.13415 34.0654 1.63242 34.0654C1.80828 34.0654 1.98414 34.0355 2.16 33.9759L14.4409 29.7271C16.5805 30.3532 18.8227 30.6812 21.1236 30.6812C31.7045 30.6812 40.3069 23.7936 40.3069 15.3406C40.3069 6.88762 31.7045 0 21.1236 0V0.0149082ZM29.2571 21.0952H13.1806C12.2866 21.0952 11.5538 20.3498 11.5538 19.4404C11.5538 18.531 12.2866 17.7856 13.1806 17.7856H29.2571C30.151 17.7856 30.8838 18.531 30.8838 19.4404C30.8838 20.3498 30.151 21.0952 29.2571 21.0952ZM29.2571 12.9255H13.1806C12.2866 12.9255 11.5538 12.18 11.5538 11.2706C11.5538 10.3612 12.2866 9.61583 13.1806 9.61583H29.2571C30.151 9.61583 30.8838 10.3612 30.8838 11.2706C30.8838 12.18 30.151 12.9255 29.2571 12.9255Z"
        fill={active ? "#00CF00" : "#A7A7A7"}
      />
    </svg>
  );
}
function GlobeIcon({ active }: { active?: boolean }) {
  return (
    <svg
      width="35"
      height="36"
      viewBox="0 0 35 36"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M17.4689 -6.10352e-05C7.84054 -6.10352e-05 0.00012207 7.97586 0.00012207 17.7706C0.00012207 27.5653 7.84054 35.5412 17.4689 35.5412C27.0972 35.5412 34.9376 27.5653 34.9376 17.7706C34.9376 7.97586 27.0972 -6.10352e-05 17.4689 -6.10352e-05ZM31.567 16.1158H27.2438C27.0386 11.8371 26.0274 8.0504 24.474 5.21783C28.3136 7.45407 31.0394 11.4495 31.567 16.1158ZM15.8275 3.84627V16.1158H10.9474C11.2845 9.91393 13.4681 5.33709 15.8275 3.84627ZM15.8275 19.4254V31.6949C13.4681 30.2041 11.2845 25.6272 10.9474 19.4254H15.8275ZM19.0956 31.6949V19.4254H23.9757C23.6386 25.6272 21.455 30.2041 19.0956 31.6949ZM19.0956 16.1158V3.84627C21.455 5.33709 23.6386 9.91393 23.9757 16.1158H19.0956ZM10.4491 5.21783C8.8957 8.0504 7.88451 11.8371 7.67934 16.1158H3.35612C3.8837 11.4495 6.60952 7.45407 10.4491 5.21783ZM3.35612 19.4254H7.67934C7.88451 23.7041 8.8957 27.4908 10.4491 30.3233C6.60952 28.0871 3.8837 24.0917 3.35612 19.4254ZM24.474 30.3233C26.0274 27.4908 27.0386 23.7041 27.2438 19.4254H31.567C31.0394 24.0917 28.3136 28.0871 24.474 30.3233Z"
        fill={active ? "#00CF00" : "#A7A7A7"}
      />
    </svg>
  );
}
function BellIcon({ active }: { active?: boolean }) {
  return (
    <svg
      width="29"
      height="39"
      viewBox="0 0 29 39"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M24.8831 27.2821V16.2798C24.8831 11.9564 22.4357 8.21445 18.8892 6.38073V5.20298C18.8892 2.3406 16.7056 0 14.0384 0C11.3712 0 9.18758 2.32569 9.18758 5.20298V6.38073C5.64107 8.19954 3.19369 11.9564 3.19369 16.2798V27.2821C1.50837 27.7294 0.262695 29.1904 0.262695 30.9346C0.262695 33.0367 2.0506 34.7362 4.2635 34.7362H9.26086C9.6712 37.1514 11.6496 39 14.0237 39C16.3978 39 18.3763 37.1514 18.7866 34.7362H23.784C25.9822 34.7362 27.7848 33.0367 27.7848 30.9346C27.7848 29.1904 26.5391 27.7294 24.8538 27.2821H24.8831ZM12.441 5.20298C12.441 4.1594 13.1591 3.32454 14.0384 3.32454C14.9177 3.32454 15.6358 4.17431 15.6358 5.20298V5.33716C15.1082 5.26261 14.5806 5.20298 14.0384 5.20298C13.4962 5.20298 12.9686 5.26261 12.441 5.33716V5.20298ZM14.0384 8.51261C18.2151 8.51261 21.615 12.0011 21.615 16.2798V27.133H6.44711V16.2798C6.44711 12.0011 9.84706 8.51261 14.0237 8.51261H14.0384ZM14.0384 35.6904C13.4522 35.6904 12.9539 35.3027 12.6901 34.7362H15.4013C15.1229 35.2878 14.6393 35.6904 14.0531 35.6904H14.0384ZM23.8133 31.4266H4.27817C3.85318 31.4266 3.54542 31.1732 3.54542 30.9346C3.54542 30.6961 3.85318 30.4427 4.27817 30.4427H23.8133C24.2383 30.4427 24.546 30.6961 24.546 30.9346C24.546 31.1732 24.2383 31.4266 23.8133 31.4266Z"
        fill={active ? "#00CF00" : "#A7A7A7"}
      />
      <path
        d="M1.24506 12.7167C1.37696 12.7466 1.49421 12.7615 1.62611 12.7615C2.35886 12.7615 3.03297 12.2397 3.20883 11.4794C3.7071 9.34747 5.33381 8.15481 5.39243 8.11009C6.13984 7.60321 6.33036 6.57454 5.83209 5.81422C5.33382 5.0539 4.32261 4.84518 3.5752 5.35206C3.45796 5.4266 0.849391 7.24541 0.0433667 10.7041C-0.161803 11.5986 0.380434 12.4931 1.25973 12.7018L1.24506 12.7167Z"
        fill={active ? "#00CF00" : "#A7A7A7"}
      />
      <path
        d="M24.8687 11.4793C25.0446 12.2396 25.7187 12.7614 26.4514 12.7614C26.5687 12.7614 26.7006 12.7614 26.8325 12.7167C27.7118 12.508 28.254 11.6135 28.0489 10.719C27.2428 7.26027 24.6342 5.44146 24.517 5.36692C23.7696 4.86004 22.7731 5.06875 22.2748 5.81417C21.7765 6.57449 21.967 7.60316 22.6998 8.11004C22.7144 8.11004 24.3851 9.31761 24.8834 11.4793H24.8687Z"
        fill={active ? "#00CF00" : "#A7A7A7"}
      />
    </svg>
  );
}
function UserIcon({ active }: { active?: boolean }) {
  return (
    <svg
      width="29"
      height="36"
      viewBox="0 0 29 36"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M20.4651 17.9496C22.8538 16.1308 24.4073 13.2386 24.4073 9.97368C24.4073 4.47254 20.0108 6.10352e-05 14.6031 6.10352e-05C9.19538 6.10352e-05 4.79887 4.47254 4.79887 9.97368C4.79887 13.2386 6.35231 16.1308 8.74107 17.9496C4.03682 19.4404 0.622192 23.8682 0.622192 29.0562V33.7673C0.622192 34.6767 1.35494 35.4221 2.2489 35.4221H26.9719C27.8658 35.4221 28.5986 34.6767 28.5986 33.7673V29.0562C28.5986 23.8533 25.184 19.4404 20.4797 17.9496H20.4651Z"
        fill={active ? "#00CF00" : "#A7A7A7"}
      />
    </svg>
  );
}

const TABS = [
  { key: "home", icon: HomeIcon, path: "/home" },
  { key: "message", icon: MessageIcon, path: "/message" },
  { key: "globe", icon: GlobeIcon, path: "/globe" },
  { key: "bell", icon: BellIcon, path: "/bell" },
  { key: "user", icon: UserIcon, path: "/profile" },
];

export function Footer() {
  const router = useRouter();
  const pathname = usePathname();
  const dispatch = useDispatch();

  return (
    <footer className="w-full bg-gray-200 border-t fixed bottom-0 left-0 z-20">
      <nav className="max-w-xl mx-auto flex justify-between items-center px-4 py-3">
        {TABS.map(({ key, icon: Icon, path }) => (
          <button
            key={key}
            className="flex flex-col items-center"
            onClick={() => {
              dispatch(setTab(key as TabKey));
              router.push(path);
            }}
          >
            <Icon active={pathname === path} />
          </button>
        ))}
      </nav>
    </footer>
  );
}
